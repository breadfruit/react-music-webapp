{"ast":null,"code":"var _jsxFileName = \"/Users/macos/Desktop/react-music-webapp/src/application/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { memo, useRef, useState, useEffect } from 'react';\nimport { Button } from 'antd';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { Container, LoginWrapper, LoginIconWrapper } from './style';\nimport { CSSTransition } from 'react-transition-group';\nimport imgSrc from './netease-music.png'; //实现扫码，用户名，邮箱登录\n\n/**\n * 登录页面(模态框)\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  // state/props\n  const [disabled, setDisabled] = useState(true);\n  const [loginState, setLoginState] = useState('default'); // 默认状态显示\n\n  const [bounds, setBounds] = useState({\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  });\n  const draggleRef = useRef();\n  const [show, setShow] = useState(false); // redux\n\n  const dispatch = useDispatch();\n  const {\n    isVisible\n  } = useSelector(state => ({\n    isVisible: state.getIn(['loginState', 'isVisible'])\n  }), shallowEqual);\n  useEffect(() => {\n    setShow(true);\n  }, []); // other handle\n\n  const handleLogin = loginMode => {\n    switch (loginMode) {\n      case 'phone':\n        setLoginState('phone');\n        break;\n\n      case 'email':\n        setLoginState('email');\n        break;\n\n      case 'register':\n        setLoginState('register');\n        break;\n\n      default:\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(CSSTransition, {\n    in: show,\n    timeout: 300,\n    appear: true,\n    classNames: \"fly\",\n    unmountOnExit: true,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(LoginIconWrapper, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imgSrc,\n          style: {\n            width: '100px',\n            height: '100px'\n          },\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-bg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          shape: \"round\",\n          size: \"large\",\n          onClick: () => props.history.push(\"/login/phone\"),\n          children: \"\\u624B\\u673A\\u53F7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          shape: \"round\",\n          size: \"large\",\n          onClick: () => props.history.push(\"/login/email\"),\n          children: \"\\u7F51\\u6613\\u4E91\\u90AE\\u7BB1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          shape: \"round\",\n          size: \"large\",\n          onClick: () => props.history.push(\"/login/qr\"),\n          children: \"\\u626B\\u7801\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoginWrapper, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"ghost\",\n          onClick: () => handleLogin('register'),\n          shape: \"round\",\n          size: \"large\",\n          className: \"gap\",\n          children: \"\\u6CE8\\u518C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this); // return (\n  //   <Draggable>\n  //     <Modal\n  //       centered\n  //       footer={null}\n  //       title={\n  //         <div\n  //           style={{\n  //             width: '100%',\n  //             cursor: 'move',\n  //           }}\n  //           onMouseOver={() => {\n  //             if (disabled) {\n  //               setDisabled(false)\n  //             }\n  //           }}\n  //           onMouseOut={() => {\n  //             setDisabled(true)\n  //           }}\n  //           // fix eslintjsx-a11y/mouse-events-have-key-events\n  //           // https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/master/docs/rules/mouse-events-have-key-events.md\n  //           onFocus={() => {}}\n  //           onBlur={() => {}}\n  //           // end\n  //         >\n  //           {loginState === 'register' ? '注册' : '登录'}\n  //         </div>\n  //       }\n  //       visible={isVisible}\n  //       onCancel={handleCancel}\n  //       modalRender={(modal) => (\n  //         <Draggable\n  //           disabled={disabled}\n  //           bounds={bounds}\n  //           onStart={(event, uiData) => onStart(event, uiData)}\n  //         >\n  //           <div ref={draggleRef}>{modal}</div>\n  //         </Draggable>\n  //       )}\n  //     >\n  //       {/* 登录 */}\n  //       {loginState === 'default' ? defaultWrapperContent : null}\n  //       {loginState === 'phone' ? phoneLogin() : undefined}\n  //       {loginState === 'email' ? phoneLogin('email') : undefined}\n  //       {loginState === 'register' ? phoneLogin('register') : undefined}\n  //     </Modal>\n  //   </Draggable>\n  // )\n}\n\n_s(Login, \"LNOi0v2JDfAKLBpVLeYk9WwJWio=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Login;\nexport default _c2 = /*#__PURE__*/memo(Login);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/macos/Desktop/react-music-webapp/src/application/Login/index.js"],"names":["React","memo","useRef","useState","useEffect","Button","shallowEqual","useDispatch","useSelector","Container","LoginWrapper","LoginIconWrapper","CSSTransition","imgSrc","Login","props","disabled","setDisabled","loginState","setLoginState","bounds","setBounds","left","top","bottom","right","draggleRef","show","setShow","dispatch","isVisible","state","getIn","handleLogin","loginMode","width","height","history","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,QAA9B,EAAwCC,SAAxC,QAAyD,OAAzD;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,WAApC,QAAuD,aAAvD;AACA,SAASC,SAAT,EAAmBC,YAAnB,EAAiCC,gBAAjC,QAAyD,SAAzD;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,OAAOC,MAAP,MAAmB,qBAAnB,C,CACA;;AAGA;AACA;AACA;;;;AACA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AACpB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACe,UAAD,EAAaC,aAAb,IAA8BhB,QAAQ,CAAC,SAAD,CAA5C,CAHoB,CAGoC;;AACxD,QAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC;AAAEmB,IAAAA,IAAI,EAAE,CAAR;AAAWC,IAAAA,GAAG,EAAE,CAAhB;AAAmBC,IAAAA,MAAM,EAAE,CAA3B;AAA8BC,IAAAA,KAAK,EAAE;AAArC,GAAD,CAApC;AACA,QAAMC,UAAU,GAAGxB,MAAM,EAAzB;AACA,QAAM,CAACyB,IAAD,EAAOC,OAAP,IAAkBzB,QAAQ,CAAC,KAAD,CAAhC,CANoB,CAOpB;;AACA,QAAM0B,QAAQ,GAAGtB,WAAW,EAA5B;AACA,QAAM;AAAEuB,IAAAA;AAAF,MAAgBtB,WAAW,CAC9BuB,KAAD,KAAY;AACVD,IAAAA,SAAS,EAAEC,KAAK,CAACC,KAAN,CAAY,CAAC,YAAD,EAAe,WAAf,CAAZ;AADD,GAAZ,CAD+B,EAI/B1B,YAJ+B,CAAjC;AAOAF,EAAAA,SAAS,CAAC,MAAM;AACdwB,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFQ,EAEN,EAFM,CAAT,CAhBoB,CAsBpB;;AACA,QAAMK,WAAW,GAAIC,SAAD,IAAe;AACjC,YAAQA,SAAR;AACE,WAAK,OAAL;AACEf,QAAAA,aAAa,CAAC,OAAD,CAAb;AACA;;AACF,WAAK,OAAL;AACEA,QAAAA,aAAa,CAAC,OAAD,CAAb;AACA;;AACF,WAAK,UAAL;AACEA,QAAAA,aAAa,CAAC,UAAD,CAAb;AACA;;AACF;AAVF;AAYD,GAbD;;AAiBA,sBACE,QAAC,aAAD;AACE,IAAA,EAAE,EAAEQ,IADN;AAEE,IAAA,OAAO,EAAE,GAFX;AAGE,IAAA,MAAM,EAAE,IAHV;AAIE,IAAA,UAAU,EAAC,KAJb;AAKE,IAAA,aAAa,MALf;AAAA,2BAOE,QAAC,SAAD;AAAA,8BACE,QAAC,gBAAD;AAAA,+BACE;AAAK,UAAA,GAAG,EAAEd,MAAV;AAAkB,UAAA,KAAK,EAAE;AAAEsB,YAAAA,KAAK,EAAE,OAAT;AAAkBC,YAAAA,MAAM,EAAE;AAA1B,WAAzB;AAA+D,UAAA,GAAG,EAAC;AAAnE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,YAAD;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,MAAD;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,KAAK,EAAC,OAFR;AAGE,UAAA,IAAI,EAAC,OAHP;AAIE,UAAA,OAAO,EAAE,MAAMrB,KAAK,CAACsB,OAAN,CAAcC,IAAd,CAAmB,cAAnB,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAUE,QAAC,MAAD;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,KAAK,EAAC,OAFR;AAGE,UAAA,IAAI,EAAC,OAHP;AAIE,UAAA,OAAO,EAAE,MAAMvB,KAAK,CAACsB,OAAN,CAAcC,IAAd,CAAmB,cAAnB,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF,eAkBE,QAAC,MAAD;AACE,UAAA,IAAI,EAAC,SADP;AAEE,UAAA,KAAK,EAAC,OAFR;AAGE,UAAA,IAAI,EAAC,OAHP;AAIE,UAAA,OAAO,EAAE,MAAMvB,KAAK,CAACsB,OAAN,CAAcC,IAAd,CAAmB,WAAnB,CAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,eAgCE,QAAC,YAAD;AAAA,+BACI,QAAC,MAAD;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,OAAO,EAAE,MAAML,WAAW,CAAC,UAAD,CAF5B;AAGE,UAAA,KAAK,EAAC,OAHR;AAIE,UAAA,IAAI,EAAC,OAJP;AAKE,UAAA,SAAS,EAAC,KALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAhCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,UADF,CAxCoB,CA8FpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;GA9IQnB,K;UAQUP,W,EACKC,W;;;KATfM,K;AAgJT,kCAAeb,IAAI,CAACa,KAAD,CAAnB","sourcesContent":["import React, { memo, useRef, useState, useEffect } from 'react'\nimport { Button } from 'antd'\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux'\nimport { Container,LoginWrapper, LoginIconWrapper } from './style'\nimport { CSSTransition } from 'react-transition-group';\nimport imgSrc from './netease-music.png'\n//实现扫码，用户名，邮箱登录\n\n\n/**\n * 登录页面(模态框)\n */\nfunction Login(props) {\n  // state/props\n  const [disabled, setDisabled] = useState(true)\n  const [loginState, setLoginState] = useState('default') // 默认状态显示\n  const [bounds, setBounds] = useState({ left: 0, top: 0, bottom: 0, right: 0 })\n  const draggleRef = useRef()\n  const [show, setShow] = useState(false);\n  // redux\n  const dispatch = useDispatch()\n  const { isVisible } = useSelector(\n    (state) => ({\n      isVisible: state.getIn(['loginState', 'isVisible']),\n    }),\n    shallowEqual\n  )\n\n  useEffect(() => {\n    setShow(true);\n  }, []);\n\n\n\n  // other handle\n  const handleLogin = (loginMode) => {\n    switch (loginMode) {\n      case 'phone':\n        setLoginState('phone')\n        break\n      case 'email':\n        setLoginState('email')\n        break\n      case 'register':\n        setLoginState('register')\n        break\n      default:\n    }\n  }\n\n\n\n  return (\n    <CSSTransition\n      in={show}\n      timeout={300}\n      appear={true}\n      classNames=\"fly\"\n      unmountOnExit\n    >\n      <Container>\n        <LoginIconWrapper>\n          <img src={imgSrc} style={{ width: '100px', height: '100px', }} alt=\"\" />\n        </LoginIconWrapper>\n        <LoginWrapper>\n          <div className=\"login-bg\"></div>\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size=\"large\"\n            onClick={() => props.history.push(\"/login/phone\")}\n          >\n            手机号\n          </Button>\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size=\"large\"\n            onClick={() => props.history.push(\"/login/email\")}\n          >\n            网易云邮箱\n          </Button>\n          <Button\n            type=\"primary\"\n            shape=\"round\"\n            size=\"large\"\n            onClick={() => props.history.push(\"/login/qr\")}\n          >\n            扫码\n          </Button>\n\n        </LoginWrapper>\n        <LoginWrapper>\n            <Button\n              type=\"ghost\"\n              onClick={() => handleLogin('register')}\n              shape=\"round\"\n              size=\"large\"\n              className=\"gap\"\n            >\n              注册\n            </Button>\n        </LoginWrapper>\n      </Container>\n    </CSSTransition>\n  )\n  // return (\n  //   <Draggable>\n  //     <Modal\n  //       centered\n  //       footer={null}\n  //       title={\n  //         <div\n  //           style={{\n  //             width: '100%',\n  //             cursor: 'move',\n  //           }}\n  //           onMouseOver={() => {\n  //             if (disabled) {\n  //               setDisabled(false)\n  //             }\n  //           }}\n  //           onMouseOut={() => {\n  //             setDisabled(true)\n  //           }}\n  //           // fix eslintjsx-a11y/mouse-events-have-key-events\n  //           // https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/master/docs/rules/mouse-events-have-key-events.md\n  //           onFocus={() => {}}\n  //           onBlur={() => {}}\n  //           // end\n  //         >\n  //           {loginState === 'register' ? '注册' : '登录'}\n  //         </div>\n  //       }\n  //       visible={isVisible}\n  //       onCancel={handleCancel}\n  //       modalRender={(modal) => (\n  //         <Draggable\n  //           disabled={disabled}\n  //           bounds={bounds}\n  //           onStart={(event, uiData) => onStart(event, uiData)}\n  //         >\n  //           <div ref={draggleRef}>{modal}</div>\n  //         </Draggable>\n  //       )}\n  //     >\n  //       {/* 登录 */}\n  //       {loginState === 'default' ? defaultWrapperContent : null}\n  //       {loginState === 'phone' ? phoneLogin() : undefined}\n  //       {loginState === 'email' ? phoneLogin('email') : undefined}\n  //       {loginState === 'register' ? phoneLogin('register') : undefined}\n  //     </Modal>\n  //   </Draggable>\n  // )\n}\n\nexport default memo(Login)\n"]},"metadata":{},"sourceType":"module"}