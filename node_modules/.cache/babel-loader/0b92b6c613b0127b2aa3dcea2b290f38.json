{"ast":null,"code":"import { SET_HOT_KEYWRODS, SET_SUGGEST_LIST, SET_RESULT_SONGS_LIST, SET_ENTER_LOADING } from './constants';\nimport { fromJS } from 'immutable';\nimport { getHotKeyWordsRequest, getSuggestListRequest, getResultSongsListRequest } from './../../../api/request';\n\nconst changeHotKeyWords = data => ({\n  type: SET_HOT_KEYWRODS,\n  data: fromJS(data)\n});\n\nconst changeSuggestList = data => ({\n  type: SET_SUGGEST_LIST,\n  data: fromJS(data)\n});\n\nconst changeResultSongs = data => ({\n  type: SET_RESULT_SONGS_LIST,\n  data: fromJS(data)\n});\n\nexport const changeEnterLoading = data => ({\n  type: SET_ENTER_LOADING,\n  data\n});\nexport const getHotKeyWords = () => {\n  return dispath => {\n    getHotKeyWordsRequest().then(data => {\n      //拿到关键词\n      let list = data.result.hots;\n      dispath(changeHotKeyWords(list));\n    });\n  };\n};\nexport const getSuggestList = query => {\n  return dispatch => {\n    getSuggestListRequest(query).then(data => {\n      if (!data) return;\n      let res = data.result || [];\n      dispatch(changeSuggestList(res));\n    });\n    getResultSongsListRequest(query).then(data => {\n      if (!data) return;\n      let res = data.result.songs || [];\n      dispatch(changeResultSongs(res));\n      dispatch(changeEnterLoading(false));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/macos/Desktop/react-music-webapp/src/application/Search/store/reducer.js"],"names":["SET_HOT_KEYWRODS","SET_SUGGEST_LIST","SET_RESULT_SONGS_LIST","SET_ENTER_LOADING","fromJS","getHotKeyWordsRequest","getSuggestListRequest","getResultSongsListRequest","changeHotKeyWords","data","type","changeSuggestList","changeResultSongs","changeEnterLoading","getHotKeyWords","dispath","then","list","result","hots","getSuggestList","query","dispatch","res","songs"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,gBAA3B,EAA6CC,qBAA7C,EAAoEC,iBAApE,QAA6F,aAA7F;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,qBAAT,EAAgCC,qBAAhC,EAAuDC,yBAAvD,QAAwF,wBAAxF;;AAEA,MAAMC,iBAAiB,GAAIC,IAAD,KAAW;AACjCC,EAAAA,IAAI,EAAEV,gBAD2B;AAEjCS,EAAAA,IAAI,EAAEL,MAAM,CAACK,IAAD;AAFqB,CAAX,CAA1B;;AAKA,MAAME,iBAAiB,GAAIF,IAAD,KAAW;AACjCC,EAAAA,IAAI,EAAET,gBAD2B;AAEjCQ,EAAAA,IAAI,EAAEL,MAAM,CAAEK,IAAF;AAFqB,CAAX,CAA1B;;AAMA,MAAMG,iBAAiB,GAAIH,IAAD,KAAW;AACjCC,EAAAA,IAAI,EAAER,qBAD2B;AAEjCO,EAAAA,IAAI,EAAEL,MAAM,CAACK,IAAD;AAFqB,CAAX,CAA1B;;AAKA,OAAO,MAAMI,kBAAkB,GAAIJ,IAAD,KAAW;AACzCC,EAAAA,IAAI,EAAEP,iBADmC;AAEzCM,EAAAA;AAFyC,CAAX,CAA3B;AAMP,OAAO,MAAMK,cAAc,GAAG,MAAM;AAChC,SAAOC,OAAO,IAAI;AACdV,IAAAA,qBAAqB,GAAGW,IAAxB,CAA6BP,IAAI,IAAI;AACjC;AACA,UAAIQ,IAAI,GAAGR,IAAI,CAACS,MAAL,CAAYC,IAAvB;AACAJ,MAAAA,OAAO,CAACP,iBAAiB,CAAES,IAAF,CAAlB,CAAP;AACH,KAJD;AAKH,GAND;AAOH,CARM;AAWP,OAAO,MAAMG,cAAc,GAAIC,KAAD,IAAW;AACpC,SAAOC,QAAQ,IAAI;AACfhB,IAAAA,qBAAqB,CAACe,KAAD,CAArB,CAA6BL,IAA7B,CAAkCP,IAAI,IAAI;AACtC,UAAI,CAACA,IAAL,EAAW;AACX,UAAIc,GAAG,GAAGd,IAAI,CAACS,MAAL,IAAe,EAAzB;AACAI,MAAAA,QAAQ,CAACX,iBAAiB,CAACY,GAAD,CAAlB,CAAR;AACH,KAJD;AAKAhB,IAAAA,yBAAyB,CAACc,KAAD,CAAzB,CAAiCL,IAAjC,CAAsCP,IAAI,IAAI;AAC3C,UAAG,CAACA,IAAJ,EAAU;AACV,UAAIc,GAAG,GAAGd,IAAI,CAACS,MAAL,CAAYM,KAAZ,IAAqB,EAA/B;AACAF,MAAAA,QAAQ,CAACV,iBAAiB,CAACW,GAAD,CAAlB,CAAR;AACAD,MAAAA,QAAQ,CAACT,kBAAkB,CAAC,KAAD,CAAnB,CAAR;AACF,KALD;AAMH,GAZD;AAaJ,CAdM","sourcesContent":["import { SET_HOT_KEYWRODS, SET_SUGGEST_LIST, SET_RESULT_SONGS_LIST, SET_ENTER_LOADING } from './constants';\nimport { fromJS } from 'immutable';\nimport { getHotKeyWordsRequest, getSuggestListRequest, getResultSongsListRequest } from './../../../api/request';\n\nconst changeHotKeyWords = (data) => ({\n    type: SET_HOT_KEYWRODS,\n    data: fromJS(data)\n})\n\nconst changeSuggestList = (data) => ({\n    type: SET_SUGGEST_LIST,\n    data: fromJS (data)\n});\n\n\nconst changeResultSongs = (data) => ({\n    type: SET_RESULT_SONGS_LIST,\n    data: fromJS(data)\n})\n\nexport const changeEnterLoading = (data) => ({\n    type: SET_ENTER_LOADING,\n    data\n  });\n\n\nexport const getHotKeyWords = () => {\n    return dispath => {\n        getHotKeyWordsRequest().then(data => {\n            //拿到关键词\n            let list = data.result.hots;\n            dispath(changeHotKeyWords (list))\n        })\n    }\n}\n\n\nexport const getSuggestList = (query) => {\n     return dispatch => {\n         getSuggestListRequest(query).then(data => {\n             if (!data) return;\n             let res = data.result || [];\n             dispatch(changeSuggestList(res));\n         })\n         getResultSongsListRequest(query).then(data => {\n            if(!data) return\n            let res = data.result.songs || [];\n            dispatch(changeResultSongs(res))\n            dispatch(changeEnterLoading(false))\n         })\n     }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}