{"ast":null,"code":"var _jsxFileName = \"/Users/macos/Desktop/react-music-webapp/src/baseUI/horizen-item/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, memo } from 'react';\nimport styled from 'styled-components';\nimport Scroll from '../scroll/index';\nimport { PropTypes } from 'prop-types';\nimport style from '../../assets/global-style'; //样式部分\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst List = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30px;\n  overflow: hidden;\n  >span:first-of-type{\n    display: block;\n    flex: 0 0 auto;\n    padding: 5px 0;\n    margin-right: 5px;\n    color: grey;\n    font-size: ${style[\"font-size-m\"]};\n    vertical-align: middle;\n  }\n`;\n_c = List;\nconst ListItem = styled.span`\n  flex: 0 0 auto;\n  font-size: ${style[\"font-size-m\"]};\n  padding: 5px 8px;\n  border-radius: 10px;\n  &.selected{\n    color: ${style[\"theme-color\"]};\n    border: 1px solid ${style[\"theme-color\"]};\n    opacity: 0.8;\n  }\n`;\n_c2 = ListItem;\n\nfunction Horizen(props) {\n  _s();\n\n  const Category = useRef(null);\n  const {\n    list,\n    oldVal,\n    title\n  } = props;\n  const {\n    handleClick\n  } = props; //加入初始化内容宽度的逻辑\n\n  useEffect(() => {\n    let categoryDOM = Category.current;\n    let tagElems = categoryDOM.querySelectorAll(\"span\");\n    let totalWidth = 0;\n    Array.from(tagElems).forEach(ele => {\n      totalWidth += ele.offsetWidth;\n    });\n    categoryDOM.style.width = `${totalWidth}px`;\n  }, []); // 判断是否选中\n\n  const areaAndSex = (newobj, oldobj) => {\n    console.log('newobj', newobj, 'oldobj', oldobj);\n    Object.keys(oldobj).map(item => {\n      if (oldobj[item] !== newobj[item]) {\n        return false;\n      }\n    });\n    return true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Scroll, {\n    direction: \"horizental\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: Category,\n      children: /*#__PURE__*/_jsxDEV(List, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), list.map(item => {\n          return /*#__PURE__*/_jsxDEV(ListItem, {\n            className: `${areaAndSex(item.key, oldVal) ? '' : 'selected'}`,\n            onClick: () => handleClick(item.key),\n            children: item.name\n          }, item.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Horizen, \"ISZysT4zKXM5mXG3YWczSXRn2hY=\");\n\n_c3 = Horizen;\nHorizen.defaultProps = {\n  list: [],\n  oldVal: '',\n  title: '',\n  handleClick: null\n};\nHorizen.propTypes = {\n  list: PropTypes.array,\n  oldVal: PropTypes.string,\n  title: PropTypes.string,\n  handleClick: PropTypes.func\n};\nexport default _c4 = /*#__PURE__*/memo(Horizen);\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"List\");\n$RefreshReg$(_c2, \"ListItem\");\n$RefreshReg$(_c3, \"Horizen\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"sources":["/Users/macos/Desktop/react-music-webapp/src/baseUI/horizen-item/index.js"],"names":["React","useRef","useEffect","memo","styled","Scroll","PropTypes","style","List","div","ListItem","span","Horizen","props","Category","list","oldVal","title","handleClick","categoryDOM","current","tagElems","querySelectorAll","totalWidth","Array","from","forEach","ele","offsetWidth","width","areaAndSex","newobj","oldobj","console","log","Object","keys","map","item","key","name","defaultProps","propTypes","array","string","func"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, memo } from 'react';\nimport styled from 'styled-components';\nimport Scroll from '../scroll/index'\nimport { PropTypes } from 'prop-types';\nimport style from '../../assets/global-style';\n\n//样式部分\nconst List = styled.div`\n  display: flex;\n  align-items: center;\n  height: 30px;\n  overflow: hidden;\n  >span:first-of-type{\n    display: block;\n    flex: 0 0 auto;\n    padding: 5px 0;\n    margin-right: 5px;\n    color: grey;\n    font-size: ${style[\"font-size-m\"]};\n    vertical-align: middle;\n  }\n`\nconst ListItem = styled.span`\n  flex: 0 0 auto;\n  font-size: ${style[\"font-size-m\"]};\n  padding: 5px 8px;\n  border-radius: 10px;\n  &.selected{\n    color: ${style[\"theme-color\"]};\n    border: 1px solid ${style[\"theme-color\"]};\n    opacity: 0.8;\n  }\n`\n\nfunction Horizen(props) {\n  const Category = useRef(null);\n  const { list, oldVal, title } = props;\n  const { handleClick } = props;\n\n  //加入初始化内容宽度的逻辑\n  useEffect(() => {\n    let categoryDOM = Category.current;\n    let tagElems = categoryDOM.querySelectorAll(\"span\");\n    let totalWidth = 0;\n    Array.from(tagElems).forEach(ele => {\n      totalWidth += ele.offsetWidth;\n    });\n    categoryDOM.style.width = `${totalWidth}px`;\n  }, []);\n  // 判断是否选中\n  const areaAndSex = (newobj, oldobj) => {\n    console.log('newobj', newobj, 'oldobj', oldobj)\n    Object.keys(oldobj).map(item => {\n      if(oldobj[item] !== newobj[item]) {\n          return false\n      }\n    })\n    return true\n  }\n  return ( \n    <Scroll direction={\"horizental\"}>\n      <div ref={Category}>\n        <List>\n          <span>{title}</span>\n          {\n            list.map((item) => {\n              return (\n                <ListItem \n                  key={item.name}\n                  className={`${areaAndSex(item.key, oldVal) ? '': 'selected'}`} \n                  onClick={() => handleClick(item.key)}>\n                    {item.name}\n                </ListItem>\n              )\n            })\n          }\n        </List>\n      </div>\n    </Scroll>\n  );\n}\n\nHorizen.defaultProps = {\n  list: [],\n  oldVal: '',\n  title: '',\n  handleClick: null\n};\n\nHorizen.propTypes = {\n  list: PropTypes.array,\n  oldVal: PropTypes.string,\n  title: PropTypes.string,\n  handleClick: PropTypes.func\n};\n \nexport default memo(Horizen);"]},"metadata":{},"sourceType":"module"}