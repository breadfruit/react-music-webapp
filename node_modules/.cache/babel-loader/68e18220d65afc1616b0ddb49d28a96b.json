{"ast":null,"code":"var _jsxFileName = \"/Users/macos/Desktop/react-music-webapp/src/baseUI/toast/index.js\",\n    _s = $RefreshSig$();\n\n//Toast/index.js\nimport React, { useState, useImperativeHandle, forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { CSSTransition } from 'react-transition-group';\nimport style from '../../assets/global-style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ToastWrapper = styled.div`\n  position: fixed;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 50px;\n  /* background: ${style[\"highlight-background-color\"]}; */\n  &.drop-enter{\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n  &.drop-enter-active{\n    opacity: 1;\n    transition: all 0.3s;\n    transform: translate3d(0, 0, 0);\n  }\n  &.drop-exit-active{\n    opacity: 0;\n    transition: all 0.3s;\n    transform: translate3d(0, 100%, 0);\n  }\n  .text{\n    line-height: 50px;\n    text-align: center;\n    color: #fff;\n    font-size: ${style[\"font-size-l\"]};\n  }\n`; //外面组件需要拿到这个函数组件的ref，因此用forwardRef\n\n_c = ToastWrapper;\nconst Toast = /*#__PURE__*/forwardRef(_c2 = _s((props, ref) => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [timer, setTimer] = useState('');\n  const {\n    text\n  } = props; //外面组件拿函数组件ref的方法，用useImperativeHandle这个hook\n\n  useImperativeHandle(ref, () => ({\n    show() {\n      // 做了防抖处理\n      if (timer) clearTimeout(timer);\n      setShow(true);\n      setTimer(setTimeout(() => {\n        setShow(false);\n      }, 3000));\n    }\n\n  }));\n  return /*#__PURE__*/_jsxDEV(CSSTransition, {\n    in: show,\n    timeout: 300,\n    classNames: \"drop\",\n    unmountOnExit: true,\n    children: /*#__PURE__*/_jsxDEV(ToastWrapper, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text\",\n        children: text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}, \"NBIL5G61FnStewzCxr1y2x6yTuo=\", false, function () {\n  return [useImperativeHandle];\n}));\n_c3 = Toast;\nexport default _c4 = /*#__PURE__*/React.memo(Toast);\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ToastWrapper\");\n$RefreshReg$(_c2, \"Toast$forwardRef\");\n$RefreshReg$(_c3, \"Toast\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"sources":["/Users/macos/Desktop/react-music-webapp/src/baseUI/toast/index.js"],"names":["React","useState","useImperativeHandle","forwardRef","styled","CSSTransition","style","ToastWrapper","div","Toast","props","ref","show","setShow","timer","setTimer","text","clearTimeout","setTimeout","memo"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,mBAAzB,EAA8CC,UAA9C,QAA+D,OAA/D;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,OAAOC,KAAP,MAAkB,2BAAlB;;AAEA,MAAMC,YAAY,GAAGH,MAAM,CAACI,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA,mBAAmBF,KAAK,CAAC,4BAAD,CAA+B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBA,KAAK,CAAC,aAAD,CAAgB;AACtC;AACA,CA3BA,C,CA4BA;;KA5BMC,Y;AA6BN,MAAME,KAAK,gBAAGN,UAAU,UAAC,CAACO,KAAD,EAAQC,GAAR,KAAgB;AAAA;;AACvC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAACe,IAAAA;AAAD,MAASN,KAAf,CAHuC,CAIvC;;AACAR,EAAAA,mBAAmB,CAACS,GAAD,EAAM,OAAO;AAC9BC,IAAAA,IAAI,GAAG;AACL;AACA,UAAGE,KAAH,EAAUG,YAAY,CAACH,KAAD,CAAZ;AACVD,MAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,MAAAA,QAAQ,CAACG,UAAU,CAAC,MAAM;AACxBL,QAAAA,OAAO,CAAC,KAAD,CAAP;AACD,OAFkB,EAEhB,IAFgB,CAAX,CAAR;AAGD;;AAR6B,GAAP,CAAN,CAAnB;AAUA,sBACE,QAAC,aAAD;AAAe,IAAA,EAAE,EAAED,IAAnB;AAAyB,IAAA,OAAO,EAAE,GAAlC;AAAuC,IAAA,UAAU,EAAC,MAAlD;AAAyD,IAAA,aAAa,MAAtE;AAAA,2BACE,QAAC,YAAD;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,kBAAuBI;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CAtBuB;AAAA,UAKtBd,mBALsB;AAAA,GAAxB;MAAMO,K;AAwBN,kCAAeT,KAAK,CAACmB,IAAN,CAAWV,KAAX,CAAf","sourcesContent":["//Toast/index.js\nimport React, {useState, useImperativeHandle, forwardRef} from 'react';\nimport styled from 'styled-components';\nimport { CSSTransition } from 'react-transition-group';\nimport style from '../../assets/global-style';\n\nconst ToastWrapper = styled.div`\n  position: fixed;\n  bottom: 0;\n  z-index: 1000;\n  width: 100%;\n  height: 50px;\n  /* background: ${style[\"highlight-background-color\"]}; */\n  &.drop-enter{\n    opacity: 0;\n    transform: translate3d(0, 100%, 0);\n  }\n  &.drop-enter-active{\n    opacity: 1;\n    transition: all 0.3s;\n    transform: translate3d(0, 0, 0);\n  }\n  &.drop-exit-active{\n    opacity: 0;\n    transition: all 0.3s;\n    transform: translate3d(0, 100%, 0);\n  }\n  .text{\n    line-height: 50px;\n    text-align: center;\n    color: #fff;\n    font-size: ${style[\"font-size-l\"]};\n  }\n`\n//外面组件需要拿到这个函数组件的ref，因此用forwardRef\nconst Toast = forwardRef((props, ref) => {\n  const [show, setShow] = useState(false);\n  const [timer, setTimer] = useState('');\n  const {text} = props;\n  //外面组件拿函数组件ref的方法，用useImperativeHandle这个hook\n  useImperativeHandle(ref, () => ({\n    show() {\n      // 做了防抖处理\n      if(timer) clearTimeout(timer);\n      setShow(true);\n      setTimer(setTimeout(() => {\n        setShow(false)\n      }, 3000));\n    }\n  }))\n  return (\n    <CSSTransition in={show} timeout={300} classNames=\"drop\" unmountOnExit>\n      <ToastWrapper>\n        <div className=\"text\">{text}</div>\n      </ToastWrapper>\n    </CSSTransition>\n  )\n});\n\nexport default React.memo(Toast);"]},"metadata":{},"sourceType":"module"}